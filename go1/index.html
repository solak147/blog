<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><base href="/"><link href="css/bootstrap/bootstrap.min.css" rel="stylesheet"><link href="css/app.css" rel="stylesheet"><link href="Blog.styles.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap" rel="stylesheet"><link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet"><link rel="stylesheet" href="css/a11y-dark.min.css"><link rel="stylesheet" href="css/custom.css"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7750788533596067" crossorigin="anonymous"></script><!--!--><title>Golang Channel</title><!--!--><!--!--><meta name="keywords" content="Golang Channel" b-p6zcnqvy2k=""><!--!--><meta name="description" content="Golang Channel - Channel å¯ä»¥æƒ³åƒæˆæ˜¯ä¸€ç¨®è³‡æ–™çµæ§‹ï¼Œå¯ä»¥ push data é€²å»ä¹Ÿå¯ä»¥ pull data å‡ºä¾†ã€‚
            å› ç‚ºChannelæœƒç­‰å¾…å¦ä¸€ç«¯å®Œæˆ Push/Pull çš„å‹•ä½œæ‰æœƒç¹¼çºŒå¾€ä¸‹è™•ç†ï¼Œ
            è€Œä¸”ç‰¹æ€§ä½¿å…¶å¯ä»¥åœ¨Goroutinesé–“åŒæ­¥è™•ç†çš„è³‡æ–™ï¼Œè€Œä¸ç”¨ä½¿ç”¨ lockã€unlock ç­‰æ–¹å¼" b-p6zcnqvy2k=""><!--!--><meta property="og:title" content="Golang Channel" b-p6zcnqvy2k=""><!--!--><meta property="og:description" content="Golang Channel - Channel å¯ä»¥æƒ³åƒæˆæ˜¯ä¸€ç¨®è³‡æ–™çµæ§‹ï¼Œå¯ä»¥ push data é€²å»ä¹Ÿå¯ä»¥ pull data å‡ºä¾†ã€‚
            å› ç‚ºChannelæœƒç­‰å¾…å¦ä¸€ç«¯å®Œæˆ Push/Pull çš„å‹•ä½œæ‰æœƒç¹¼çºŒå¾€ä¸‹è™•ç†ï¼Œ
            è€Œä¸”ç‰¹æ€§ä½¿å…¶å¯ä»¥åœ¨Goroutinesé–“åŒæ­¥è™•ç†çš„è³‡æ–™ï¼Œè€Œä¸ç”¨ä½¿ç”¨ lockã€unlock ç­‰æ–¹å¼" b-p6zcnqvy2k=""><!--!--><meta name="twitter:title" content="Golang Channel" b-p6zcnqvy2k=""><!--!--><meta name="twitter:description" content="Golang Channel - Channel å¯ä»¥æƒ³åƒæˆæ˜¯ä¸€ç¨®è³‡æ–™çµæ§‹ï¼Œå¯ä»¥ push data é€²å»ä¹Ÿå¯ä»¥ pull data å‡ºä¾†ã€‚
            å› ç‚ºChannelæœƒç­‰å¾…å¦ä¸€ç«¯å®Œæˆ Push/Pull çš„å‹•ä½œæ‰æœƒç¹¼çºŒå¾€ä¸‹è™•ç†ï¼Œ
            è€Œä¸”ç‰¹æ€§ä½¿å…¶å¯ä»¥åœ¨Goroutinesé–“åŒæ­¥è™•ç†çš„è³‡æ–™ï¼Œè€Œä¸ç”¨ä½¿ç”¨ lockã€unlock ç­‰æ–¹å¼" b-p6zcnqvy2k=""></head><body style="background-color:#2b2c30"><div id="app" style="width:100vw;height:100vh"><!--!--><!--!--><!--!--><!--!--><!--!--><!--!--><!--!--> <!--!--><!--!--><!--!--><div class="page" b-p6zcnqvy2k=""><div class="sidebar" style="background-image:url(images/nav.jpg);background-repeat:no-repeat;background-size:cover" b-p6zcnqvy2k=""><!--!--><!--!--><header b-wtm1afifms=""><div class="top-row ps-3 navbar navbar-dark" b-wtm1afifms=""><div class="container-fluid" b-wtm1afifms=""><a class="navbar-brand" href="" b-wtm1afifms="">ä¸­äºŒç—…ä¹Ÿè¦å¯«ç¨‹å¼</a></div></div></header><nav b-wtm1afifms=""><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none navlist" style="color:#fff;overflow-y:auto;height:95%"><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple mud-expanded"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Go</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon mud-transform" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-collapse-entered mud-navgroup-collapse" style="height:auto" _bl_2=""><div class="mud-collapse-wrapper" _bl_3=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./gomod" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->go mod ä»‹ç´¹</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./go1" rel="" class="mud-nav-link active"><div class="mud-nav-link-text"><!--!-->é€šé“ Channel</div></a></div></div></div></div></div></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple mud-expanded"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">C#</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon mud-transform" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-collapse-entered mud-navgroup-collapse" style="height:auto" _bl_4=""><div class="mud-collapse-wrapper" _bl_5=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./csharp1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->C#åŸºç¤ - new vs overrvide</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./csharp2" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->ASP.NET Web API è¨Šæ¯è™•ç†å™¨</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./csharp3" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->å¤šåœ‹èªç³»</div></a></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Blazor</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-navgroup-collapse" style="" _bl_14=""><div class="mud-collapse-wrapper" _bl_15=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./blazor1" rel="" class="mud-nav-link"><div class="mud-nav-link-text">StateHasChanged() vs InvokeAsync(StateHasChanged)</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./blazor2" rel="" class="mud-nav-link"><div class="mud-nav-link-text">Service Lifetime</div></a></div></div></div></div></div></div></div></div></div></div></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple mud-expanded"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">JavaScript</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon mud-transform" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-collapse-entered mud-navgroup-collapse" style="height:auto" _bl_6=""><div class="mud-collapse-wrapper" _bl_7=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./javascript1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->Promise ç°¡ä»‹</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./javascript2" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->ä½¿ç”¨ Promise é”åˆ°åŒæ­¥ç­‰å¾…jsè³‡æºè¼‰å…¥</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./javascript3" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->å‚³çµ±å‡½å¼ VS ç®­é ­å‡½å¼</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./javascript4" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->Cookieã€LocalStorageã€SessionStorage å·®ç•°</div></a></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Vue</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-navgroup-collapse" style="" _bl_16=""><div class="mud-collapse-wrapper" _bl_17=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./vue1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->Vue ç”Ÿå‘½é€±æœŸ</div></a></div></div></div></div></div></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Nuxt</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-navgroup-collapse" style="" _bl_18=""><div class="mud-collapse-wrapper" _bl_19=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./nuxt1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->Nuxt ç”Ÿå‘½é€±æœŸ</div></a></div></div></div></div></div></div></div></div></div></div></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple mud-expanded"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Css</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon mud-transform" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-collapse-entered mud-navgroup-collapse" style="height:auto" _bl_8=""><div class="mud-collapse-wrapper" _bl_9=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./css1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->EM èˆ‡ REM çš„å·®ç•°</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./css2" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->VHã€VWã€VMINã€VMAX</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./css3" rel="" class="mud-nav-link"><div class="mud-nav-link-text">Display Flex</div></a></div></div></div></div></div></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple mud-expanded"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Dart</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon mud-transform" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-collapse-entered mud-navgroup-collapse" style="height:auto" _bl_10=""><div class="mud-collapse-wrapper" _bl_11=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./dart1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->DartåŸºç¤ - åˆå…¥dart</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./dart2" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->DartåŸºç¤ - @immutable</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./dart3" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->DartåŸºç¤ - å»ºæ§‹å¼</div></a></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Flutter</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-navgroup-collapse" style="" _bl_20=""><div class="mud-collapse-wrapper" _bl_21=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./flutter1" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->ç·¨è­¯éŒ¯èª¤ : missing an input or output annotation</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./flutter2" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->ä»€éº¼æ˜¯ Bloc Design Pattern</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./flutter3" rel="" class="mud-nav-link"><div class="mud-nav-link-text">MaterialApp</div></a></div></div></div></div></div></div></div></div></div></div></div><!--!--><!--!--><div class="mud-nav-group"><button tabindex="0" class="mud-nav-link mud-ripple mud-expanded"><!--!--><svg class="mud-icon-root mud-icon-default mud-svg-icon mud-icon-size-medium mud-nav-link-icon mud-nav-link-icon-default" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></svg><div class="mud-nav-link-text">Web Deploy</div><!--!--><svg class="mud-icon-root mud-svg-icon mud-icon-size-medium mud-nav-link-expand-icon mud-transform" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><!--!--><path d="M0 0h24v24H0z" fill="none"></path><path d="M7 10l5 5 5-5z"></path></svg></button><!--!--><!--!--><div class="mud-collapse-container mud-collapse-entered mud-navgroup-collapse" style="height:auto" _bl_12=""><div class="mud-collapse-wrapper" _bl_13=""><div class="mud-collapse-wrapper-inner"><!--!--><div class="mud-navmenu mud-navmenu-default mud-navmenu-margin-none"><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./githubpage" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->Blazor WebAssembly ä½¿ç”¨ Github Pages é€²è¡Œéƒ¨å±¬</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./gcpvm" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->Google Cloud Platform å‰µå»ºè™›æ“¬ä¸»æ©Ÿ (VM) ä¾†æ¶è¨­ç¶²ç«™</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./gcpdocker" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->ä½¿ç”¨ Docker å»ºç«‹ MySQL</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./reactsnap" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->SEO å„ªåŒ– - SPA react-snap é æ¸²æŸ“</div></a></div><!--!--><!--!--><div class="mud-nav-item mud-ripple"><!--!--><a href="./h5seo" rel="" class="mud-nav-link"><div class="mud-nav-link-text"><!--!-->SEO å„ªåŒ– - HTM5 èªæ„æ¨™ç±¤ï¼ˆSemantic Elements)</div></a></div></div></div></div></div></div></div></nav></div><!--!--><main b-p6zcnqvy2k=""><article class="content px-4" b-p6zcnqvy2k=""><div b-p6zcnqvy2k=""><!--!--><!--!--><!--!--><h2><b>é€šé“ Channel</b></h2><!--!--><p>Channel å¯ä»¥æƒ³åƒæˆæ˜¯ä¸€ç¨®è³‡æ–™çµæ§‹ï¼Œå¯ä»¥ push data é€²å»ä¹Ÿå¯ä»¥ pull data å‡ºä¾†ã€‚<br><br>å› ç‚ºChannelæœƒç­‰å¾…å¦ä¸€ç«¯å®Œæˆ Push/Pull çš„å‹•ä½œæ‰æœƒç¹¼çºŒå¾€ä¸‹è™•ç†ï¼Œ<br>è€Œä¸”ç‰¹æ€§ä½¿å…¶å¯ä»¥åœ¨Goroutinesé–“åŒæ­¥è™•ç†çš„è³‡æ–™ï¼Œè€Œä¸ç”¨ä½¿ç”¨ lockã€unlock ç­‰æ–¹å¼ã€‚</p><!--!--><h3><b>Create Channel</b></h3><!--!--><pre><code class="go hljs language-go">
    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)
</code></pre><!--!--><h3><b>Push data to Channel</b></h3><!--!--><pre><code class="go hljs language-go">
    ch &lt;- d 
</code></pre><!--!--><h3><b>Pull data from Channel</b></h3><!--!--><pre><code class="go hljs language-go">
    d := &lt;- ch
</code></pre><!--!--><p>Channelæ˜¯ç”¨ä¾†è®“Goroutineæºé€šæ™‚ä½¿ç”¨çš„ä¸€ç¨®è³‡æ–™çµæ§‹ï¼Œä¸¦ä¸”ç”±æ–¼å…¶é˜»å¡çš„ç‰¹æ€§ï¼Œå®ƒä¹Ÿèƒ½å¤ ç•¶æˆä¸€ç¨®ç­‰å¾…goroutineçš„æ–¹æ³•ã€‚</p><!--!--><pre><code class="go hljs language-go">
    <span class="hljs-keyword">package</span> main

    <span class="hljs-keyword">import</span> (
        <span class="hljs-string">"fmt"</span>
        <span class="hljs-string">"time"</span>
    )

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
        ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)

        <span class="hljs-keyword">go</span> calculator(ch)

        time.Sleep(<span class="hljs-number">3</span> * time.Second)
        fmt.Println(&lt;-ch)
        time.Sleep(time.Second)
        fmt.Println(<span class="hljs-string">"main goroutine finished"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">work</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)</span></span> {
        fmt.Println(<span class="hljs-string">"Start to work goroutines"</span>)
        time.Sleep(time.Second)
        fmt.Println(<span class="hljs-string">"Stop to work goroutines"</span>)

        ch &lt;- <span class="hljs-string">"FINISH"</span>

        fmt.Println(<span class="hljs-string">"Finish work"</span>)
    }

    # Result:
    # Start to work goroutines
    # Stop to work goroutines
    # FINISH
    # Finish work
    # Main goroutine finished
</code></pre><!--!--><p>é€™é‚Šçš„ä¸‰ç§’å»¶é²ç›®çš„æ˜¯ç‚ºäº†è®“ main thread æ…¢æ–¼ goroutinesï¼Œä¸€ç§’å»¶é²å‰‡æ˜¯æ¨¡æ“¬ goroutines çš„ä½œæ¥­æ™‚é–“ï¼<br>æ‰€ä»¥ä»–æœƒä¾åºçš„å»é€²è¡Œ goroutines ä½œæ¥­â†’æ‰“å° channel çš„å…§å®¹â†’å®Œæˆ goroutines function â†’å®Œæˆ main threadã€‚</p><!--!--><p>é€šé“åˆ†ç‚ºå…©ç¨®ï¼Œæœ‰ buffer èˆ‡ç„¡ buffer çš„ï¼Œä¹Ÿå°±æ˜¯æœ‰å„²å­˜ç©ºé–“é™åˆ¶çš„ channel èˆ‡ç„¡é™åˆ¶çš„ channelã€‚</p><!--!--><h3><b>Unbuffered channel</b></h3><!--!--><pre><code class="go hljs language-go">
    <span class="hljs-keyword">package</span> main

    <span class="hljs-keyword">import</span> (
        <span class="hljs-string">"fmt"</span>
	    <span class="hljs-string">"time"</span>
    )

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)
	    <span class="hljs-keyword">go</span> f(ch)
	    got := &lt;-ch
	    fmt.Println(got)
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">f</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)</span></span> {
	    time.Sleep(time.Second * <span class="hljs-number">2</span>)
	    ch &lt;- <span class="hljs-number">999</span>
    }
        
    # Result:
    # <span class="hljs-number">999</span>
</code></pre><!--!--><p>ç”±ä¸Šé¢ä¾‹å­æˆ‘å€‘å¯ä»¥å¾—çŸ¥ï¼ŒUnbuffered Channel æœ‰ä¸€å€‹ç‰¹æ€§ï¼š<br><br>Push ä¸€ç­†è³‡æ–™æœƒé€ æˆ Pusher çš„ç­‰å¾…<br>Pull æ™‚æ²’æœ‰è³‡æ–™å‰‡æœƒé€ æˆ Puller çš„ç­‰å¾…<br>ä¹Ÿå› æ­¤å¦‚æœ Pusher çš„åŸ·è¡Œä¸€æ¬¡æ™‚é–“è¼ƒ Puller çŸ­ï¼Œæœƒé€ æˆ Pusher è¢«è¿«ç­‰å¾… Puller æ‹‰å–å®Œå¾Œï¼Œæ‰èƒ½é€²è¡Œä¸‹ä¸€æ¬¡çš„ Pushï¼Œè€Œé€™æ¨£çš„ç­‰å¾…æ˜¯ç›¸ç•¶æµªè²»æ™‚é–“çš„ã€‚<br><br>è€Œ Buffered Channel æ­£å¥½è§£æ±ºäº†é€™ç¨®å•é¡Œã€‚</p><!--!--><h3><b>Buffered channel</b></h3><!--!--><p>å·®åˆ¥åƒ…åœ¨æ–¼ Variable := make(chan Type,<span class="imtdot"> Number</span>)</p><!--!--><h3><b>Deadlock</b></h3><!--!--><pre><code class="go hljs language-go">
    <span class="hljs-keyword">package</span> main

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>, <span class="hljs-number">2</span>)
	    <span class="hljs-keyword">go</span> func3(ch)
	    ch  &lt;- <span class="hljs-number">100</span>
	    ch  &lt;- <span class="hljs-number">99</span>

	    ch  &lt;- <span class="hljs-number">98</span> <span class="hljs-comment">// ç™¼ç”Ÿdeadlock</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">func3</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)</span></span> {
    }

    # Result:
    # fatal <span class="hljs-type">error</span>: all goroutines are asleep - deadlock!
</code></pre><!--!--><p>æœ‰é™åˆ¶å„²å­˜ç©ºé–“çš„é€šé“ï¼Œè‹¥é™åˆ¶æ”¾å…©å€‹ï¼Œå°±åªèƒ½æœ‰å…©ç­†æ•¸æ“šï¼Œå€˜è‹¥å¡å…¥ç¬¬ä¸‰ç­†çš„è©±å‰‡æœƒé€ æˆæ­»çµ DeadLock</p><!--!--><h3><b>Block vs Deadlock</b></h3><!--!--><p>ä»¥ä¸Šä¾‹ä¾†èªªï¼Œé€šå¸¸ chan å¡ä¸ä¸‹ç¬¬ä¸‰ç­†æ•¸æ“šæ™‚ï¼Œåªæœƒ ç™¼ç”Ÿ Blockï¼Œè€Œç•¶ Block <span class="imtdot">æ°¸é ç„¡æ³•è§£é–‹</span>çš„æƒ…æ³ç™¼ç”Ÿï¼Œå‰‡æ˜¯ Deadlockã€‚<br>åªè¦é€šé“ Channel å¡ä¸ä¸‹ï¼Œæˆ–è€…æ²’æ±è¥¿å¯æŠ“ï¼Œéƒ½æœƒç™¼ç”Ÿ Blockã€‚<br></p><!--!--><h3><b>Block</b></h3><!--!--><pre><code class="go hljs language-go">
    <span class="hljs-keyword">package</span> main

    <span class="hljs-keyword">import</span> (
        <span class="hljs-string">"fmt"</span>
	    <span class="hljs-string">"time"</span>
    )

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>, <span class="hljs-number">2</span>)
	    <span class="hljs-keyword">go</span> func1(ch)
	    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i  &lt; <span class="hljs-number">10</span>; i++ {
		    ch  &lt;- i
		    fmt.Println(<span class="hljs-string">"main sent"</span>, i)
	    }
	    time.Sleep(time.Second)
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">func1</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)</span></span> {
	    <span class="hljs-keyword">for</span> {
		    i :=  &lt;-ch
		    fmt.Println(<span class="hljs-string">"func1 got"</span>, i)
		    time.Sleep(time.Millisecond * <span class="hljs-number">100</span>)
	    }
    }

    # Result:
    # main sent <span class="hljs-number">0</span>
    # main sent <span class="hljs-number">1</span>
    # main sent <span class="hljs-number">2</span>
    # func1 got <span class="hljs-number">0</span>
    # func1 got <span class="hljs-number">1</span>
    # main sent <span class="hljs-number">3</span>
    # func1 got <span class="hljs-number">2</span>
    # main sent <span class="hljs-number">4</span>
    # func1 got <span class="hljs-number">3</span>
    # main sent <span class="hljs-number">5</span>
    # func1 got <span class="hljs-number">4</span>
    # main sent <span class="hljs-number">6</span>
    # func1 got <span class="hljs-number">5</span>
    # main sent <span class="hljs-number">7</span>
    # func1 got <span class="hljs-number">6</span>
    # main sent <span class="hljs-number">8</span>
    # func1 got <span class="hljs-number">7</span>
    # main sent <span class="hljs-number">9</span>
    # func1 got <span class="hljs-number">8</span>
    # func1 got <span class="hljs-number">9</span>
</code></pre><!--!--><p>ä¸»ç¨‹å¼å¡2å€‹æ•¸å­—å¾Œæœƒ Blockï¼Œå¿…é ˆç”± func1 æ¯0.1ç§’æŠŠæ•¸å­—ä¾åºè®€å‡ºï¼Œä¸»ç¨‹å¼æ‰å¯ä»¥ç¹¼çºŒå°‡æ•¸å­—å¡å…¥ã€‚<br>é›–ç„¶æ…¢ï¼Œä½†ç¨‹å¼ä¸æœƒ Blockï¼Œåªæ˜¯æœƒé€ æˆåŸ·è¡Œæ•ˆç‡ä½ä¸‹è€Œå·²ã€‚<br>æŠŠBuffer Size: 2æ›æˆ5</p><!--!--><pre><code class="go hljs language-go">
    <span class="hljs-keyword">package</span> main

    <span class="hljs-keyword">import</span> (
        <span class="hljs-string">"fmt"</span>
	    <span class="hljs-string">"time"</span>
    )

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>, <span class="hljs-number">5</span>)
	    <span class="hljs-keyword">go</span> func1(ch)
	    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i  &lt; <span class="hljs-number">10</span>; i++ {
		    ch  &lt;- i
		    fmt.Println(<span class="hljs-string">"main sent"</span>, i)
	    }
	    time.Sleep(time.Second)
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">func1</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)</span></span> {
	    <span class="hljs-keyword">for</span> {
		    i :=  &lt;-ch
		    fmt.Println(<span class="hljs-string">"func1 got"</span>, i)
		    time.Sleep(time.Millisecond * <span class="hljs-number">100</span>)
	    }
    }

    # Result:
    # main sent <span class="hljs-number">0</span>
    # main sent <span class="hljs-number">1</span>
    # main sent <span class="hljs-number">2</span>
    # main sent <span class="hljs-number">3</span>
    # main sent <span class="hljs-number">4</span>
    # main sent <span class="hljs-number">5</span>
    # func1 got <span class="hljs-number">0</span>
    # func1 got <span class="hljs-number">1</span>
    # main sent <span class="hljs-number">6</span>
    # func1 got <span class="hljs-number">2</span>
    # main sent <span class="hljs-number">7</span>
    # func1 got <span class="hljs-number">3</span>
    # main sent <span class="hljs-number">8</span>
    # func1 got <span class="hljs-number">4</span>
    # main sent <span class="hljs-number">9</span>
    # func1 got <span class="hljs-number">5</span>
    # func1 got <span class="hljs-number">6</span>
    # func1 got <span class="hljs-number">7</span>
    # func1 got <span class="hljs-number">8</span>
    # func1 got <span class="hljs-number">9</span>
</code></pre></div></article></main></div><!--!--><!--!--></div><div id="blazor-error-ui">An unhandled error has occurred. <a href="" class="reload">Reload</a> <a class="dismiss">ğŸ—™</a></div><script src="_framework/blazor.webassembly.js"></script><script src="_content/MudBlazor/MudBlazor.min.js"></script><script src="js/highlight.min.js"></script><script src="js/javascript.js"></script></body></html>